"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[492],{492:function(e,s,a){a.r(s),a.d(s,{default:function(){return q}});var n,i=a(8281),t=a(2791),r="Dialogs_dialogs__dg2G9",l="Dialogs_dialogsItems__MAHj8",d="Dialogs_active__P5sR0",c="Dialogs_dialogF__wDIdN",m="Dialogs_dialog__NNbaB",o="Dialogs_field__0dUXs",_=a(1523),g=a(184),u=function(e){var s="/dialogs/"+e.id;return(0,g.jsxs)("div",{className:m+" "+d,children:[(0,g.jsx)("img",{src:e.imgSrc,alt:"avatar"}),(0,g.jsx)(_.OL,{to:s,children:e.name})]})},x=a(9271),h=a(6139),j=a(1232),v=a(1413),f=a(5987),p="FormsControls_formControl__mXkI4",N="FormsControls_error__a+X5m",S=["input","meta","child"],M=function(e){e.input;var s=e.meta,a=s.touched,n=s.error,i=e.children,t=a&&n;return(0,g.jsxs)("div",{className:p+" "+(t?N:""),children:[(0,g.jsx)("div",{children:i}),t&&(0,g.jsx)("span",{children:n})]})},y=function(e){var s=e.input,a=(e.meta,e.child,(0,f.Z)(e,S));return(0,g.jsx)(M,(0,v.Z)((0,v.Z)({},e),{},{children:(0,g.jsx)("textarea",(0,v.Z)((0,v.Z)({},s),a))}))},b=function(e){if(!e)return"Field is required"},D={display:"Message_display__SIUqu",message:"Message_message__Kv8ER",description:"Message_description__jufRq",angle:"Message_angle__ZM1Pj",angleSent:"Message_angleSent__S1Cv3",name:"Message_name__UqHFa",text:"Message_text__oTU0Y",time:"Message_time__mnSpQ",nameSent:"Message_nameSent__ma02q",textSent:"Message_textSent__DVNBN",timeSent:"Message_timeSent__QOiO5"},Z=a(8687),k=function(e){var s=e.id,a=e.avatar,n=e.name,i=e.message,t=e.time;return s===(0,Z.v9)((function(e){return e.auth.userId}))?(0,g.jsx)("div",{className:D.displaySent,children:(0,g.jsxs)("div",{className:D.message,style:{justifyContent:"flex-end"},children:[(0,g.jsxs)("div",{className:D.description,style:{borderRadius:"26px 28px 0 26px"},children:[(0,g.jsx)("div",{className:D.nameSent,children:n}),(0,g.jsx)("div",{className:D.textSent,children:i}),(0,g.jsx)("span",{className:D.timeSent,children:t})]}),(0,g.jsx)("div",{className:D.angleSent}),(0,g.jsx)("img",{src:a,alt:"avatar"})]})}):(0,g.jsx)("div",{className:D.display,children:(0,g.jsxs)("div",{className:D.message,children:[(0,g.jsx)("img",{src:a,alt:"avatar"}),(0,g.jsx)("div",{className:D.angle}),(0,g.jsxs)("div",{className:D.description,children:[(0,g.jsx)("div",{className:D.name,children:n}),(0,g.jsx)("div",{className:D.text,children:i}),(0,g.jsx)("span",{className:D.time,children:t})]})]})})},w=(n=50,function(e){if(e.length>n)return"Max length is ".concat(n," symbols")}),C=(0,j.Z)({form:"dialogAddMessageForm"})((function(e){return(0,g.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,g.jsx)("div",{children:(0,g.jsx)(h.Z,{className:o,component:y,name:"newMessageBody",placeholder:"Enter your message",validate:[b,w]})}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"Send"})})]})})),F=function(e){var s=e.dialogsPage,a=s.dialogs.map((function(e){return(0,g.jsx)(u,{name:e.name,id:e.id,imgSrc:e.imgSrc},e.id)})),n=s.messages.map((function(e){return(0,g.jsx)(k,{id:e.id,avatar:e.avatar,name:e.name,message:e.message,time:e.time},e.id)}));t.useRef(null);return e.isAuth?(0,g.jsxs)("div",{className:r,children:[(0,g.jsx)("div",{className:l,children:a}),(0,g.jsxs)("div",{className:c,children:[n,(0,g.jsx)("div",{children:(0,g.jsx)(C,{onSubmit:function(s){e.sendMessage(s.newMessageBody)}})})]})]}):(0,g.jsx)(x.l_,{to:"/Login"})},q=(0,Z.$j)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(s){e((0,i.$)(s))}}}))(F)}}]);
//# sourceMappingURL=492.35ad8e95.chunk.js.map