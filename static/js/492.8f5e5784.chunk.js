"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[492],{492:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var i,n=a(8281),t=a(2791),l={dialogs:"Dialogs_dialogs__dg2G9",dialogsItems:"Dialogs_dialogsItems__MAHj8",active:"Dialogs_active__P5sR0",dialog:"Dialogs_dialog__NNbaB",messages:"Dialogs_messages__SjqC-",message:"Dialogs_message__A7hcn"},r=a(1523),d=a(184),c=function(e){var s="/dialogs/"+e.id;return(0,d.jsxs)("div",{className:l.dialog+" "+l.active,children:[(0,d.jsx)("img",{src:e.imgSrc,alt:"avatar"}),(0,d.jsx)(r.OL,{to:s,children:e.name})]})},o=a(9271),m=a(6139),g=a(1232),_=a(1413),u=a(5987),x="FormsControls_formControl__mXkI4",h="FormsControls_error__a+X5m",j=["input","meta","child"],v=function(e){e.input;var s=e.meta,a=s.touched,i=s.error,n=e.children,t=a&&i;return(0,d.jsxs)("div",{className:x+" "+(t?h:""),children:[(0,d.jsx)("div",{children:n}),t&&(0,d.jsx)("span",{children:i})]})},f=function(e){var s=e.input,a=(e.meta,e.child,(0,u.Z)(e,j));return(0,d.jsx)(v,(0,_.Z)((0,_.Z)({},e),{},{children:(0,d.jsx)("textarea",(0,_.Z)((0,_.Z)({},s),a))}))},p=function(e){if(!e)return"Field is required"},S={display:"Message_display__SIUqu",message:"Message_message__Kv8ER",description:"Message_description__jufRq",angle:"Message_angle__ZM1Pj",angleSent:"Message_angleSent__S1Cv3",name:"Message_name__UqHFa",text:"Message_text__oTU0Y",time:"Message_time__mnSpQ",nameSent:"Message_nameSent__ma02q",textSent:"Message_textSent__DVNBN",timeSent:"Message_timeSent__QOiO5"},N=a(8687),M=function(e){var s=e.id,a=e.avatar,i=e.name,n=e.message,t=e.time;return s===(0,N.v9)((function(e){return e.auth.userId}))?(0,d.jsx)("div",{className:S.displaySent,children:(0,d.jsxs)("div",{className:S.message,style:{justifyContent:"flex-end"},children:[(0,d.jsxs)("div",{className:S.description,style:{borderRadius:"26px 28px 0 26px"},children:[(0,d.jsx)("div",{className:S.nameSent,children:i}),(0,d.jsx)("div",{className:S.textSent,children:n}),(0,d.jsx)("span",{className:S.timeSent,children:t})]}),(0,d.jsx)("div",{className:S.angleSent}),(0,d.jsx)("img",{src:a,alt:"avatar"})]})}):(0,d.jsx)("div",{className:S.display,children:(0,d.jsxs)("div",{className:S.message,children:[(0,d.jsx)("img",{src:a,alt:"avatar"}),(0,d.jsx)("div",{className:S.angle}),(0,d.jsxs)("div",{className:S.description,children:[(0,d.jsx)("div",{className:S.name,children:i}),(0,d.jsx)("div",{className:S.text,children:n}),(0,d.jsx)("span",{className:S.time,children:t})]})]})})},y=(i=50,function(e){if(e.length>i)return"Max length is ".concat(i," symbols")}),b=(0,g.Z)({form:"dialogAddMessageForm"})((function(e){return(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(m.Z,{component:f,name:"newMessageBody",placeholder:"Enter your message",validate:[p,y]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Send"})})]})})),k=function(e){var s=e.dialogsPage,a=s.dialogs.map((function(e){return(0,d.jsx)(c,{name:e.name,id:e.id,imgSrc:e.imgSrc},e.id)})),i=s.messages.map((function(e){return(0,d.jsx)(M,{id:e.id,avatar:e.avatar,name:e.name,message:e.message,time:e.time},e.id)})),n=t.useRef(null);return e.isAuth?(0,d.jsxs)("div",{className:l.dialogs,children:[(0,d.jsx)("div",{className:l.dialogsItems,children:a}),(0,d.jsxs)("div",{className:l.dialogF,style:{overflow:"auto",height:"500px",WebkitOverflowScrolling:"touch"},children:[i,(0,d.jsx)("div",{ref:n}),(0,d.jsx)("div",{children:(0,d.jsx)(b,{onSubmit:function(s){e.sendMessage(s.newMessageBody)}})})]})]}):(0,d.jsx)(o.l_,{to:"/Login"})},w=(0,N.$j)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(s){e((0,n.$)(s))}}}))(k)}}]);
//# sourceMappingURL=492.8f5e5784.chunk.js.map