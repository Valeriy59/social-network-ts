"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[492],{492:function(e,s,a){a.r(s),a.d(s,{default:function(){return D}});var i,n=a(8281),t=a(2791),l={dialogs:"Dialogs_dialogs__dg2G9",dialogsItems:"Dialogs_dialogsItems__MAHj8",active:"Dialogs_active__P5sR0",dialog:"Dialogs_dialog__NNbaB",messages:"Dialogs_messages__SjqC-",message:"Dialogs_message__A7hcn",field:"Dialogs_field__0dUXs"},d=a(1523),r=a(184),c=function(e){var s="/dialogs/"+e.id;return(0,r.jsxs)("div",{className:l.dialog+" "+l.active,children:[(0,r.jsx)("img",{src:e.imgSrc,alt:"avatar"}),(0,r.jsx)(d.OL,{to:s,children:e.name})]})},m=a(9271),o=a(6139),g=a(1232),_=a(1413),u=a(5987),x="FormsControls_formControl__mXkI4",h="FormsControls_error__a+X5m",j=["input","meta","child"],v=function(e){e.input;var s=e.meta,a=s.touched,i=s.error,n=e.children,t=a&&i;return(0,r.jsxs)("div",{className:x+" "+(t?h:""),children:[(0,r.jsx)("div",{children:n}),t&&(0,r.jsx)("span",{children:i})]})},f=function(e){var s=e.input,a=(e.meta,e.child,(0,u.Z)(e,j));return(0,r.jsx)(v,(0,_.Z)((0,_.Z)({},e),{},{children:(0,r.jsx)("textarea",(0,_.Z)((0,_.Z)({},s),a))}))},p=function(e){if(!e)return"Field is required"},N={display:"Message_display__SIUqu",message:"Message_message__Kv8ER",description:"Message_description__jufRq",angle:"Message_angle__ZM1Pj",angleSent:"Message_angleSent__S1Cv3",name:"Message_name__UqHFa",text:"Message_text__oTU0Y",time:"Message_time__mnSpQ",nameSent:"Message_nameSent__ma02q",textSent:"Message_textSent__DVNBN",timeSent:"Message_timeSent__QOiO5"},S=a(8687),M=function(e){var s=e.id,a=e.avatar,i=e.name,n=e.message,t=e.time;return s===(0,S.v9)((function(e){return e.auth.userId}))?(0,r.jsx)("div",{className:N.displaySent,children:(0,r.jsxs)("div",{className:N.message,style:{justifyContent:"flex-end"},children:[(0,r.jsxs)("div",{className:N.description,style:{borderRadius:"26px 28px 0 26px"},children:[(0,r.jsx)("div",{className:N.nameSent,children:i}),(0,r.jsx)("div",{className:N.textSent,children:n}),(0,r.jsx)("span",{className:N.timeSent,children:t})]}),(0,r.jsx)("div",{className:N.angleSent}),(0,r.jsx)("img",{src:a,alt:"avatar"})]})}):(0,r.jsx)("div",{className:N.display,children:(0,r.jsxs)("div",{className:N.message,children:[(0,r.jsx)("img",{src:a,alt:"avatar"}),(0,r.jsx)("div",{className:N.angle}),(0,r.jsxs)("div",{className:N.description,children:[(0,r.jsx)("div",{className:N.name,children:i}),(0,r.jsx)("div",{className:N.text,children:n}),(0,r.jsx)("span",{className:N.time,children:t})]})]})})},y=(i=50,function(e){if(e.length>i)return"Max length is ".concat(i," symbols")}),b=(0,g.Z)({form:"dialogAddMessageForm"})((function(e){return(0,r.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.Z,{className:l.field,component:f,name:"newMessageBody",placeholder:"Enter your message",validate:[p,y]})}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{children:"Send"})})]})})),C=function(e){var s=e.dialogsPage,a=s.dialogs.map((function(e){return(0,r.jsx)(c,{name:e.name,id:e.id,imgSrc:e.imgSrc},e.id)})),i=s.messages.map((function(e){return(0,r.jsx)(M,{id:e.id,avatar:e.avatar,name:e.name,message:e.message,time:e.time},e.id)}));t.useRef(null);return e.isAuth?(0,r.jsxs)("div",{className:l.dialogs,children:[(0,r.jsx)("div",{className:l.dialogsItems,children:a}),(0,r.jsxs)("div",{className:l.dialogF,children:[i,(0,r.jsx)("div",{children:(0,r.jsx)(b,{onSubmit:function(s){e.sendMessage(s.newMessageBody)}})})]})]}):(0,r.jsx)(m.l_,{to:"/Login"})},D=(0,S.$j)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(s){e((0,n.$)(s))}}}))(C)}}]);
//# sourceMappingURL=492.97dbaf9a.chunk.js.map