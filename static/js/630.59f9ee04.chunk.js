"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[630],{6630:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var o=t(1413),i=t(5671),r=t(3144),n=t(136),a=t(8557),l=t(2791),c="Profile_content__rAOXt",u="Profile_headerProfile__Bm-AP",d=t(885),p="ProfileInfo_descriptionBlock__29CdQ",f="ProfileInfo_profile__CWm7y",h="ProfileInfo_mainPhoto__69Yas",x="ProfileInfo_profileDetails__XNX7P",j="ProfileInfo_contacts__tUxlL",v="ProfileInfo_error__rYLw9",m="ProfileInfo_profileInfo__x0Dwl",g=t(6041),P=t(184),b=function(e){var s=(0,l.useState)(!1),t=(0,d.Z)(s,2),o=t[0],i=t[1],r=(0,l.useState)(e.status),n=(0,d.Z)(r,2),a=n[0],c=n[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,P.jsxs)("div",{children:[!o&&(0,P.jsx)("div",{children:(0,P.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"----"})}),o&&(0,P.jsx)("div",{children:(0,P.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateUserStatus(a)},value:a,onChange:function(e){c(e.currentTarget.value)}})})]})},k=t(4678),_=t(5705),w=function(e){var s=e.profile,t=e.onSubmit,i=(0,_.TA)({initialValues:{fullName:s.fullName,lookingForAJob:!0,lookingForAJobDescription:s.lookingForAJobDescription,aboutMe:s.aboutMe,contacts:(0,o.Z)({},s.contacts)},onSubmit:function(e){t({fullName:e.fullName,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,contacts:{facebook:e.contacts.facebook,github:e.contacts.github,instagram:e.contacts.instagram,vk:e.contacts.vk,mainLink:e.contacts.mainLink,twitter:e.contacts.twitter,website:e.contacts.website,youtube:e.contacts.youtube}})}});return(0,P.jsxs)("form",{onSubmit:i.handleSubmit,children:[(0,P.jsx)("button",{type:"submit",children:"save"}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full name"}),":",(0,P.jsx)("input",(0,o.Z)({},i.getFieldProps("fullName")))]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"}),":",(0,P.jsx)("input",(0,o.Z)({type:"checkbox"},i.getFieldProps("lookingForAJob")))]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"}),":",(0,P.jsx)("input",(0,o.Z)({},i.getFieldProps("lookingForAJobDescription")))]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"}),":",(0,P.jsx)("input",(0,o.Z)({},i.getFieldProps("aboutMe")))]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"}),": ",s.contacts&&Object.keys(s.contacts).map((function(e){return(0,P.jsx)("div",{className:j,children:(0,P.jsxs)("b",{children:[e,":",(0,P.jsx)("input",(0,o.Z)({placeholder:e},i.getFieldProps("contacts."+e)))]})},e)}))]})]})},N=function(e){var s=e.contactTitle,t=e.contactValue;return(0,P.jsx)("div",{className:j,children:(0,P.jsxs)("li",{children:[(0,P.jsx)("b",{children:s}),": ",t]})})},y=function(e){var s,t=e.profile,o=e.isOwner,i=e.goToEditMode,r=e.errorMessage;return(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full name"}),": ",t.fullName]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"}),": ",(null===(s=t.contacts)||void 0===s?void 0:s.facebook)&&Object.keys(t.contacts).map((function(e){return(0,P.jsx)(N,{contactTitle:e,contactValue:t.contacts&&t.contacts[e]},e)}))]}),o&&(0,P.jsxs)("div",{children:[(0,P.jsx)("button",{onClick:i,children:"edit"}),r&&(0,P.jsx)("div",{className:v,children:r})]})]})},M=function(e){var s,t,o=(0,l.useRef)(null),i=(0,l.useState)(!1),r=(0,d.Z)(i,2),n=r[0],a=r[1];if(!e.profile)return(0,P.jsx)(k.Z,{});return(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("img",{src:null!==(null===(s=e.profile.photos)||void 0===s?void 0:s.large)?null===(t=e.profile.photos)||void 0===t?void 0:t.large:g,onClick:function(){var e;o&&(null===(e=o.current)||void 0===e||e.click())},className:h}),(0,P.jsxs)("div",{className:x,children:[e.isOwner&&(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{children:e.profile.fullName}),(0,P.jsx)("div",{children:(0,P.jsx)("input",{style:{display:"none"},ref:o,type:"file",onChange:function(s){var t;1===(null===(t=s.target.files)||void 0===t?void 0:t.length)&&e.savePhoto(s.target.files[0])}})})]}),(0,P.jsx)(b,{status:e.status,updateUserStatus:e.updateStatus})]})]}),(0,P.jsx)("div",{className:m,children:n?(0,P.jsx)(w,{profile:e.profile,onSubmit:function(s){e.saveProfile(s),a(!1)}}):(0,P.jsx)(y,{isOwner:e.isOwner,profile:e.profile,goToEditMode:function(){a(!0)},errorMessage:e.errorMessage})})]})},A=t(81),S={item:"Post_item__EDXqV",likes:"Post_likes__f6VJB"},T=t(6314),F=function(e){return(0,P.jsxs)("div",{className:S.item,children:[(0,P.jsx)("div",{className:S.avatarAndName,children:(0,P.jsx)("img",{src:g,alt:"avatar"})}),(0,P.jsx)("span",{className:S.message,children:e.message}),(0,P.jsxs)("div",{className:S.likes,children:[(0,P.jsx)("span",{children:(0,P.jsx)(T.Z,{fontSize:"small"})})," ",e.likesCount]})]})},C={postsBlock:"MyPosts_postsBlock__AMT2H",posts:"MyPosts_posts__ENZUJ",error:"MyPosts_error__Gsm+m"},Z=(0,l.memo)((function(e){var s=e.posts.map((function(e){return(0,P.jsx)(F,{message:e.post,likesCount:e.likesCount},e.id)}));return(0,P.jsxs)("div",{className:C.postsBlock,children:[(0,P.jsx)("h3",{children:"My posts"}),(0,P.jsx)("div",{className:C.addPost,children:(0,P.jsx)(J,{addPost:e.addPost})}),s]})})),J=function(e){var s=(0,_.TA)({initialValues:{newPostText:""},validate:function(e){var s={};return e.newPostText?e.newPostText.length>1e3&&(s.newPostText="Max length is 1000 symbols"):s.newPostText="Required",s},onSubmit:function(s){e.addPost(s.newPostText)}});return(0,P.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("textarea",(0,o.Z)({className:s.errors.newPostText?C.error:"",placeholder:"What's new?"},s.getFieldProps("newPostText"))),s.touched.newPostText&&s.errors.newPostText&&(0,P.jsx)("div",{style:{color:"red"},children:s.errors.newPostText})]}),(0,P.jsx)("div",{children:(0,P.jsx)("button",{type:"submit",children:"Add post"})})]})},I=Z,O=t(8687),D=(0,O.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(s){e((0,A.Wl)(s))}}}))(I),B=function(e){return(0,P.jsxs)("div",{className:c,children:[(0,P.jsx)("div",{children:(0,P.jsx)("img",{className:u,alt:"header img",src:"https://images.squarespace-cdn.com/content/v1/5779b324f5e231f12b51fd52/1628735053409-PDJ5PTO8T3AJGQHSKN2U/Honeywell%2BExperion%2BOrion%2BConsole.jpg"})}),(0,P.jsx)(M,{isOwner:e.isOwner,status:e.status,profile:e.profile,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile,errorMessage:e.errorMessage}),(0,P.jsx)(D,{})]})},U=t(9271),E=t(7781),L=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=null!==this.props.authorizedUserId?this.props.authorizedUserId.toString():e)||this.props.history.push("/Login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(B,(0,o.Z)((0,o.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,errorMessage:this.props.errorMessage}))}}]),t}(l.Component),z=(0,E.qC)((0,O.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,isOwner:e.profilePage.isOwner,errorMessage:e.profilePage.profileErrorMessage}}),{getUserProfile:A.et,getStatus:A.lR,updateStatus:A.yR,savePhoto:A.Ju}),U.EN)(L)},6314:function(e,s,t){var o=t(4836),i=t(5263);s.Z=void 0;var r=i(t(2791)),n=(0,o(t(4894)).default)(r.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");s.Z=n}}]);
//# sourceMappingURL=630.59f9ee04.chunk.js.map